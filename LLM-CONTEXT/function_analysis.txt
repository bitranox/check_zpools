
======================================================================
ANALYZING: src/check_zpools/zfs_client.py
======================================================================

✓ No functions exceed 50 lines

All functions:
   __init__() at line 109: 29 lines
   check_zpool_available() at line 138: 19 lines
   __init__() at line 58: 18 lines
   get_pool_list() at line 157: 6 lines
   get_pool_status() at line 210: 5 lines
   get_pool_status_text() at line 257: 5 lines
   _execute_json_command() at line 302: 5 lines
   _execute_text_command() at line 391: 5 lines

======================================================================
ANALYZING: src/check_zpools/alerting.py
======================================================================

⚠️  LONG FUNCTIONS (>50 lines):
  - _format_recovery_body() at line 708: 74 lines
  - send_recovery() at line 154: 66 lines
  - _format_body() at line 258: 64 lines
  - send_alert() at line 93: 61 lines
  - _format_recommended_actions_section() at line 403: 52 lines

All functions:
⚠️  _format_recovery_body() at line 708: 74 lines
⚠️  send_recovery() at line 154: 66 lines
⚠️  _format_body() at line 258: 64 lines
⚠️  send_alert() at line 93: 61 lines
⚠️  _format_recommended_actions_section() at line 403: 52 lines
   _format_complete_pool_status() at line 475: 47 lines
   _format_scrub_status_section() at line 577: 44 lines
   _format_notes_section() at line 647: 44 lines
   _format_alert_header() at line 322: 42 lines
   _format_pool_details_section() at line 364: 39 lines
   _format_capacity_section() at line 522: 30 lines
   _format_health_assessment_section() at line 621: 26 lines
   _format_error_statistics_section() at line 552: 25 lines
   _format_subject() at line 220: 20 lines
   _format_alert_footer() at line 455: 20 lines
   _format_recovery_subject() at line 240: 18 lines
   _calculate_scrub_age_days() at line 691: 17 lines
   __init__() at line 74: 8 lines

======================================================================
ANALYZING: src/check_zpools/behaviors.py
======================================================================

⚠️  LONG FUNCTIONS (>50 lines):
  - run_daemon() at line 244: 110 lines
  - check_pools_once() at line 163: 81 lines
  - _build_monitor_config() at line 354: 61 lines

All functions:
⚠️  run_daemon() at line 244: 110 lines
⚠️  check_pools_once() at line 163: 81 lines
⚠️  _build_monitor_config() at line 354: 61 lines
   emit_greeting() at line 75: 37 lines
   _get_state_file_path() at line 415: 30 lines
   raise_intentional_failure() at line 112: 28 lines
   noop_main() at line 140: 23 lines
   _flush_if_possible() at line 67: 8 lines
   _target_stream() at line 55: 6 lines
   _greeting_line() at line 61: 6 lines


======================================================================
SUMMARY
======================================================================

Total files analyzed: 3
Total long functions (>50 lines): 8

⚠️  ACTION REQUIRED: 8 function(s) need refactoring
